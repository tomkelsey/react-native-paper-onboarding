{"version":3,"sources":["Page.tsx"],"names":["React","useMemo","useCallback","memo","Animated","Extrapolate","PageContent","styles","interpolate","interpolateV1","interpolateNode","interpolateV2","require","PageComponent","index","item","animatedIndex","indicatorSize","next","titleStyle","titleStyleOverride","descriptionStyle","descriptionStyleOverride","screenDimensions","safeInsets","handleRef","animatedFocus","inputRange","outputRange","extrapolate","CLAMP","animatedContentOpacity","animatedContentTopPosition","height","contentContainerStyle","contentContainer","marginTop","top","marginRight","right","marginLeft","left","marginBottom","bottom","opacity","transform","translateY","pageContentProps","image","title","description","backgroundColor","buttonText","onButtonPress","handleContainerRef","ref","renderContent","ContentComponent","content","container","Page"],"mappings":"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","sourcesContent":["import React, { useMemo, useCallback, memo } from 'react';\nimport Animated, { Extrapolate } from 'react-native-reanimated';\nimport PageContent from '../pageContent/PageContent';\nimport { styles } from './styles';\nimport type { PageProps } from '../../types';\n\nconst {\n  interpolate: interpolateV1,\n  interpolateNode: interpolateV2,\n} = require('react-native-reanimated');\nconst interpolate = interpolateV2 || interpolateV1;\n\nconst PageComponent = ({\n  index,\n  item,\n  animatedIndex,\n  indicatorSize,\n  next,\n  titleStyle: titleStyleOverride,\n  descriptionStyle: descriptionStyleOverride,\n  screenDimensions,\n  safeInsets,\n  handleRef,\n}: PageProps) => {\n  //#region animation\n  const animatedFocus = useMemo(\n    () =>\n      interpolate(animatedIndex, {\n        inputRange: [index - 1, index, index + 1],\n        outputRange: [0, 1, 2],\n        extrapolate: Extrapolate.CLAMP,\n      }),\n    [animatedIndex, index]\n  );\n  const animatedContentOpacity = useMemo(\n    () =>\n      interpolate(animatedFocus, {\n        inputRange: [0.5, 1, 1.5],\n        outputRange: [0, 1, 0],\n        extrapolate: Extrapolate.CLAMP,\n      }),\n    [animatedFocus]\n  );\n\n  const animatedContentTopPosition = useMemo(\n    () =>\n      interpolate(animatedFocus, {\n        inputRange: [0, 1, 2],\n        outputRange: [\n          screenDimensions.height / 8,\n          0,\n          (screenDimensions.height / 6) * -1,\n        ],\n        extrapolate: Extrapolate.CLAMP,\n      }),\n    [animatedFocus, screenDimensions.height]\n  );\n  //#endregion\n\n  //#region styles\n  const contentContainerStyle: any = useMemo(\n    () => [\n      styles.contentContainer,\n      {\n        marginTop: safeInsets.top,\n        marginRight: safeInsets.right,\n        marginLeft: safeInsets.left,\n        marginBottom: safeInsets.bottom + indicatorSize + safeInsets.bottom,\n        opacity: animatedContentOpacity,\n        transform: [{ translateY: animatedContentTopPosition }],\n      },\n    ],\n    [\n      animatedContentOpacity,\n      animatedContentTopPosition,\n      safeInsets,\n      indicatorSize,\n    ]\n  );\n  const titleStyle = useMemo(\n    () => [titleStyleOverride, item.titleStyle ? item.titleStyle : null],\n    [item, titleStyleOverride]\n  );\n  const descriptionStyle = useMemo(\n    () => [\n      descriptionStyleOverride,\n      item.descriptionStyle ? item.descriptionStyle : null,\n    ],\n    [item, descriptionStyleOverride]\n  );\n  //#endregion\n\n  //#region memo\n  const pageContentProps = useMemo(\n    () => ({\n      index,\n      animatedFocus,\n      image: item.image,\n      title: item.title,\n      description: item.description,\n      backgroundColor: item.backgroundColor,\n      titleStyle,\n      descriptionStyle,\n      buttonText: item.buttonText,\n      onButtonPress: item.onButtonPress,\n      next,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [index, item, titleStyle, descriptionStyle]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerRef = useCallback(\n    ref => handleRef(ref, index),\n    [index, handleRef]\n  );\n  //#endregion\n\n  // render\n  const renderContent = useCallback(() => {\n    const ContentComponent: any = item.content;\n    return ContentComponent ? (\n      typeof ContentComponent === 'function' ? (\n        ContentComponent(pageContentProps)\n      ) : (\n        <ContentComponent {...pageContentProps} />\n      )\n    ) : (\n      <PageContent {...pageContentProps} />\n    );\n  }, [item, pageContentProps]);\n  return (\n    <Animated.View\n      pointerEvents={index === 0 ? 'auto' : 'none'}\n      ref={handleContainerRef}\n      style={styles.container}\n    >\n      <Animated.View style={contentContainerStyle}>\n        {renderContent()}\n      </Animated.View>\n    </Animated.View>\n  );\n};\n\nconst Page = memo(PageComponent);\n\nexport default Page;\n"]}