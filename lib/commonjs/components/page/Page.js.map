{"version":3,"sources":["Page.tsx"],"names":["interpolate","interpolateV1","interpolateNode","interpolateV2","require","PageComponent","index","item","animatedIndex","indicatorSize","next","titleStyle","titleStyleOverride","descriptionStyle","descriptionStyleOverride","screenDimensions","safeInsets","handleRef","animatedFocus","inputRange","outputRange","extrapolate","Extrapolate","CLAMP","animatedContentOpacity","animatedContentTopPosition","height","contentContainerStyle","styles","contentContainer","marginTop","top","marginRight","right","marginLeft","left","marginBottom","bottom","opacity","transform","translateY","pageContentProps","image","title","description","backgroundColor","buttonText","buttonColor","onButtonPress","handleContainerRef","ref","renderContent","ContentComponent","content","container","Page"],"mappings":"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","sourcesContent":["import React, { useMemo, useCallback, memo } from 'react';\nimport Animated, { Extrapolate } from 'react-native-reanimated';\nimport PageContent from '../pageContent/PageContent';\nimport { styles } from './styles';\nimport type { PageProps } from '../../types';\n\nconst {\n  interpolate: interpolateV1,\n  interpolateNode: interpolateV2,\n} = require('react-native-reanimated');\nconst interpolate = interpolateV2 || interpolateV1;\n\nconst PageComponent = ({\n  index,\n  item,\n  animatedIndex,\n  indicatorSize,\n  next,\n  titleStyle: titleStyleOverride,\n  descriptionStyle: descriptionStyleOverride,\n  screenDimensions,\n  safeInsets,\n  handleRef,\n}: PageProps) => {\n  //#region animation\n  const animatedFocus = useMemo(\n    () =>\n      interpolate(animatedIndex, {\n        inputRange: [index - 1, index, index + 1],\n        outputRange: [0, 1, 2],\n        extrapolate: Extrapolate.CLAMP,\n      }),\n    [animatedIndex, index]\n  );\n  const animatedContentOpacity = useMemo(\n    () =>\n      interpolate(animatedFocus, {\n        inputRange: [0.5, 1, 1.5],\n        outputRange: [0, 1, 0],\n        extrapolate: Extrapolate.CLAMP,\n      }),\n    [animatedFocus]\n  );\n\n  const animatedContentTopPosition = useMemo(\n    () =>\n      interpolate(animatedFocus, {\n        inputRange: [0, 1, 2],\n        outputRange: [\n          screenDimensions.height / 8,\n          0,\n          (screenDimensions.height / 6) * -1,\n        ],\n        extrapolate: Extrapolate.CLAMP,\n      }),\n    [animatedFocus, screenDimensions.height]\n  );\n  //#endregion\n\n  //#region styles\n  const contentContainerStyle: any = useMemo(\n    () => [\n      styles.contentContainer,\n      {\n        marginTop: safeInsets.top,\n        marginRight: safeInsets.right,\n        marginLeft: safeInsets.left,\n        marginBottom: safeInsets.bottom + indicatorSize + safeInsets.bottom,\n        opacity: animatedContentOpacity,\n        transform: [{ translateY: animatedContentTopPosition }],\n      },\n    ],\n    [\n      animatedContentOpacity,\n      animatedContentTopPosition,\n      safeInsets,\n      indicatorSize,\n    ]\n  );\n  const titleStyle = useMemo(\n    () => [titleStyleOverride, item.titleStyle ? item.titleStyle : null],\n    [item, titleStyleOverride]\n  );\n  const descriptionStyle = useMemo(\n    () => [\n      descriptionStyleOverride,\n      item.descriptionStyle ? item.descriptionStyle : null,\n    ],\n    [item, descriptionStyleOverride]\n  );\n  //#endregion\n\n  //#region memo\n  const pageContentProps = useMemo(\n    () => ({\n      index,\n      animatedFocus,\n      image: item.image,\n      title: item.title,\n      description: item.description,\n      backgroundColor: item.backgroundColor,\n      titleStyle,\n      descriptionStyle,\n      buttonText: item.buttonText,\n      buttonColor: item.buttonColor,\n      onButtonPress: item.onButtonPress,\n      next,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [index, item, titleStyle, descriptionStyle]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerRef = useCallback(\n    ref => handleRef(ref, index),\n    [index, handleRef]\n  );\n  //#endregion\n\n  // render\n  const renderContent = useCallback(() => {\n    const ContentComponent: any = item.content;\n    return ContentComponent ? (\n      typeof ContentComponent === 'function' ? (\n        ContentComponent(pageContentProps)\n      ) : (\n        <ContentComponent {...pageContentProps} />\n      )\n    ) : (\n      <PageContent {...pageContentProps} />\n    );\n  }, [item, pageContentProps]);\n  return (\n    <Animated.View\n      pointerEvents={index === 0 ? 'auto' : 'none'}\n      ref={handleContainerRef}\n      style={styles.container}\n    >\n      <Animated.View style={contentContainerStyle}>\n        {renderContent()}\n      </Animated.View>\n    </Animated.View>\n  );\n};\n\nconst Page = memo(PageComponent);\n\nexport default Page;\n"]}